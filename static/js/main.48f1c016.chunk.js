(this.webpackJsonpt3_cpstuardo=this.webpackJsonpt3_cpstuardo||[]).push([[0],{102:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t.n(c),s=t(5),a=t.n(s),r=(t(62),t(10)),o=t(9),j=t(16),l=t(6),d=(t.p,t(37),t(63)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"})),b=t(135),O=t(7),u=t.n(O),m=t(131),h=t(132),x=t(133),p=t(134),v=t(136),g=t(53),f=(t(95),t(2)),S=u.a.icon({iconUrl:"/images/marker-icon.png",iconSize:[10,15]}),C=u.a.icon({iconUrl:"/images/asterisco.png",iconSize:[10,10]}),N={color:"blue"};var I=function(){var e=Object(c.useState)({name:"",message:""}),n=Object(l.a)(e,2),t=n[0],i=n[1],s=Object(c.useState)([]),a=Object(l.a)(s,2),O=a[0],u=a[1],I=Object(c.useState)([{code:"Sin Informaci\xf3n",airline:"",origin:[-100,-100],destination:[-100,-100],plane:"",seats:1,passengers:[{name:"",age:1}]}]),T=Object(l.a)(I,2),F=T[0],w=T[1],z=Object(c.useState)({code:"",position:[-100,-100]}),D=Object(l.a)(z,2),L=D[0],k=D[1];Object(g.useEffect)((function(){d.on("CHAT",(function(e){var n=e.name,t=e.message,c=e.date;u([].concat(Object(j.a)(O),[{name:n,message:t,date:c}]))})),d.on("FLIGHTS",(function(e){w(e)})),d.on("POSITION",(function(e){k(e)}))}));var A=function(e){i(Object(o.a)(Object(o.a)({},t),{},Object(r.a)({},e.target.name,e.target.value)))};return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("h1",{children:"Bienvenido a Vuelos"}),Object(f.jsx)("form",{onSubmit:function(e){e.preventDefault(),d.emit("FLIGHTS")},children:Object(f.jsx)("button",{children:"Solicitar informaci\xf3n de vuelos"})})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"column-mapa",children:[Object(f.jsx)("h2",{children:"Mapa vuelos"}),Object(f.jsxs)(p.a,{center:[-5,10],zoom:2,scrollWheelZoom:!1,children:[Object(f.jsx)(v.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),F.map((function(e,n){var t=e.origin;return Object(f.jsx)("div",{children:Object(f.jsx)(m.a,{position:[t[0],t[1]],icon:S})},n)})),F.map((function(e,n){var t=e.destination;return Object(f.jsx)("div",{children:Object(f.jsx)(m.a,{position:[t[0],t[1]],icon:S})},n)})),F.map((function(e,n){var t=e.origin,c=e.destination;return Object(f.jsx)("div",{children:Object(f.jsx)(x.a,{pathOptions:N,positions:[[t[0],t[1]],[c[0],c[1]]]})},n)})),Object(f.jsx)(m.a,{position:[L.position[0],L.position[1]],icon:C,children:Object(f.jsxs)(h.a,{children:["C\xf3digo: ",L.code]})},L.code)]})]}),Object(f.jsxs)("div",{className:"column-chat",children:[Object(f.jsx)("h2",{children:"Centro de control"}),Object(f.jsx)("div",{className:"container",children:O.map((function(e,n){var t=e.name,c=e.message,i=e.date;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("b",{children:[t,": "]}),c," - ",Object(f.jsx)("font",{size:"2",color:"teal",children:Object(f.jsx)("em",{children:new Date(i).toLocaleString()})})]},n)}))}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=t.name,c=t.message;d.emit("CHAT",{name:n,message:c}),i({message:"",name:""})},children:[Object(f.jsx)("div",{className:"name_field",children:Object(f.jsx)(b.a,{name:"name",onChange:function(e){return A(e)},value:t.name,label:"name",variant:"outlined"})}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"message_field",children:Object(f.jsx)(b.a,{name:"message",onChange:function(e){return A(e)},value:t.message,label:"message",id:"outlined-multiline-static",variant:"outlined"})}),Object(f.jsx)("button",{children:"Enviar"})]})]})]}),Object(f.jsxs)("div",{className:"column-info",children:[Object(f.jsx)("h2",{children:"Informaci\xf3n de vuelos"}),F.map((function(e,n){var t=e.code,c=e.airline,i=e.origin,s=e.destination,a=e.plane,r=e.seats,o=e.passengers;return Object(f.jsxs)("div",{children:[Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"card",children:[Object(f.jsxs)("b",{children:[t,"- ",c]}),Object(f.jsx)("br",{}),Object(f.jsx)("b",{children:"Origen:"})," ",i.map((function(e,n){return Object(f.jsx)("div",{children:Object(f.jsx)("li",{children:e})},n)})),Object(f.jsx)("b",{children:"Destino:"})," ",s.map((function(e,n){return Object(f.jsx)("div",{children:Object(f.jsx)("li",{children:e})},n)})),Object(f.jsx)("b",{children:"Avi\xf3n:"})," ",a,Object(f.jsx)("br",{}),Object(f.jsx)("b",{children:"Cantidad asientos:"})," ",r,Object(f.jsx)("br",{}),Object(f.jsx)("b",{children:"Pasajeros:"})," ",o.map((function(e,n){var t=e.name,c=e.age;return Object(f.jsx)("div",{children:Object(f.jsxs)("li",{children:[t," - ",c]})},n)}))]})]},n)}))]})]})},T=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,137)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,s=n.getLCP,a=n.getTTFB;t(e),c(e),i(e),s(e),a(e)}))};a.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(I,{})}),document.getElementById("root")),T()},37:function(e,n,t){},62:function(e,n,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.48f1c016.chunk.js.map