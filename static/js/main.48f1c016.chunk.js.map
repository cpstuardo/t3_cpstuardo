{"version":3,"sources":["components/Socket.js","logo.svg","App.js","reportWebVitals.js","index.js"],"names":["socket","require","io","path","icon","L","iconUrl","iconSize","icon_2","color_line","color","App","useState","name","message","state","setState","chat","setChat","code","airline","origin","destination","plane","seats","passengers","age","vuelos","setVuelos","position","posicion","setPosicion","useEffect","on","date","data","onTextChange","e","target","value","className","onSubmit","preventDefault","emit","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","url","map","index","Marker","Polyline","pathOptions","positions","Popup","size","Date","toLocaleString","TextField","onChange","label","variant","id","item","j","k","f","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.48f1c016.chunk.js","sourcesContent":["const io = require(\"socket.io-client\");\r\nconst socket = io(\"wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl\", {\r\n    path: '/flights'\r\n});\r\n\r\nexport default socket;","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import logo from './logo.svg';\nimport './App.css';\nimport socket from './components/Socket';\nimport React, {useState} from 'react';\nimport TextField from '@material-ui/core/TextField' ;\nimport L from 'leaflet';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline} from 'react-leaflet';\nimport { useEffect } from 'react/cjs/react.development';\nimport './App.css';\nimport 'leaflet/dist/leaflet.css';\nconst icon = L.icon({ iconUrl: \"/images/marker-icon.png\", iconSize: [10, 15] });\nconst icon_2 = L.icon({ iconUrl: \"/images/asterisco.png\", iconSize: [10, 10] });\nconst color_line = { color: 'blue' }\n\nfunction App() {\n  const [state, setState] = useState({name:'', message:''});\n  const [chat, setChat] = useState([]);\n  const [vuelos, setVuelos] = useState([{code:'Sin Información', airline:'', origin:[-100,-100], destination:[-100,-100], plane:'', seats: 1, passengers:[{name:'', age:1}]}]);\n  const [posicion, setPosicion] = useState({code:'', position: [-100, -100]})\n\n  // CHAT\n  const messageSubmit = (e) => {\n    e.preventDefault()\n    const {name, message} = state\n    socket.emit('CHAT', {name: name, message: message})\n    setState({message: '', name: ''})\n  }\n\n  useEffect(() => {\n    socket.on('CHAT', ({name, message, date}) => {\n      setChat([...chat, {name, message, date}])\n    }) \n\n    socket.on('FLIGHTS', data => {\n      setVuelos(data)\n    })  \n\n    socket.on('POSITION', data => {\n      setPosicion(data)\n    })  \n  })\n\n  const onTextChange = e => {\n    setState({...state, [e.target.name]: e.target.value})\n  }\n\n  const renderChat = () => {\n    return chat.map(({name, message, date}, index) => (\n      <div key={index}>\n        <b>{name}: </b>{message} - <font size=\"2\" color=\"teal\"><em>{(new Date(date)).toLocaleString()}</em></font>\n      </div>\n    ))\n  }\n  \n  // VUElOS\n  const renderPosicion = () => {\n    return (<Marker position={[posicion.position[0], posicion.position[1]]} icon={icon_2} key={posicion.code}>\n      <Popup>\n        Código: {posicion.code}\n      </Popup>\n    </Marker>)\n  }\n\n  const getVuelos = (e) => {\n    e.preventDefault()\n    socket.emit('FLIGHTS')\n  }\n\n  const renderVuelos = () => {\n    return vuelos.map(({code, airline, origin, destination, plane, seats, passengers}, index) => (\n      <div key={index}>\n      <br></br>\n      <div className = \"card\">\n        <b>{code}- {airline}</b>\n        <br></br>\n        <b>Origen:</b> {origin.map((item, j)=> (\n            <div key={j}>\n              <li>{item}</li>\n            </div>))}\n        <b>Destino:</b> {destination.map((item, k)=> (\n            <div key={k}>\n              <li>{item}</li>\n            </div>))}\n        <b>Avión:</b> {plane}\n        <br></br>\n        <b>Cantidad asientos:</b> {seats}\n        <br></br>\n        <b>Pasajeros:</b> {passengers.map(({name, age}, f)=> (\n            <div key={f}>\n             <li>{name} - {age}</li>\n            </div>))}\n      </div>\n      </div>\n    ))\n  }\n\n  const renderOrigen = () => {\n    return vuelos.map(({origin}, index) => (\n      <div key = {index}>\n      <Marker position={[origin[0], origin[1]]} icon={icon}></Marker>\n      </div>\n    ))\n  }\n\n  const renderDestino = () => {\n    return vuelos.map(({destination}, index) => (\n      <div key = {index}>\n      <Marker position={[destination[0], destination[1]]} icon={icon}></Marker>\n      </div>\n    ))\n  }\n\n  const renderRuta = () => {\n    return vuelos.map(({origin, destination}, index) => (\n      <div key = {index}>\n      <Polyline pathOptions={color_line} positions={[[origin[0], origin[1]],[destination[0], destination[1]]]} />\n      </div>\n    ))\n  }\n\n  return (\n      <div className = \"App\">\n        <div className = \"header\">\n          <h1>Bienvenido a Vuelos</h1>\n          <form onSubmit= {getVuelos}>\n            <button>Solicitar información de vuelos</button>\n          </form>\n        </div>\n        <div>\n          <div className= \"column-mapa\">\n            <h2>Mapa vuelos</h2>\n            <MapContainer center={[-5,10]} zoom={2} scrollWheelZoom={false}>\n              <TileLayer\n                attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              />\n              {renderOrigen()}\n              {renderDestino()}\n              {renderRuta()}\n              {renderPosicion()}\n            </MapContainer>\n          </div>\n          <div className=\"column-chat\">\n              <h2>Centro de control</h2>\n              <div className=\"container\">\n              {renderChat()}\n              </div>\n            <form onSubmit = {messageSubmit}>\n                <div className = \"name_field\">\n                  <TextField name= \"name\" onChange={e => onTextChange(e)} value={state.name} label=\"name\" variant=\"outlined\"/>\n                </div>\n                <br></br>\n                <div className = \"message_field\">\n                  <TextField name= \"message\" onChange={e => onTextChange(e)} value={state.message} label=\"message\" id=\"outlined-multiline-static\" variant=\"outlined\" />\n                </div>\n                <button>Enviar</button>\n            </form>\n          </div>\n        </div>\n        <div className=\"column-info\">\n          <h2>Información de vuelos</h2>\n          {renderVuelos()}\n        </div>\n      </div>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}